pipeline 
{
	agent any
	stage{
		stage('Checkout'){
			steps{
				checkout scm
				}
			}
			stage('Restore'){
				steps{
					sh 'dotnet restore projectCalculadora.sln'
					}
				}
				stage('Build'){
					steps{
						sh 'dotnet buil projectCalculadora.sln --configuration Release --no-build'
						}
					}
					stage('Test'){
						steps{
							sh 'dotnet Test CalculadoraApp.Test/CalculadoraApp.Test.csproj --configuration Release --no-build'
							}
						}
						stage('Publish'){
							steps{
								sh 'dotnet publish CalculadoraApp/CalculadoraApp.csproj -c Release -o publish'
								}
							}
							
			
					
		}
		post{
			success{
				archiveArtifacts artifacts: 'publish/**', fingerprint:true
				}
			}
		
	